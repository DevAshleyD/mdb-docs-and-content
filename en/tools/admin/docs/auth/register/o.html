<style>
  .skin-light .register-form, 
  .skin-light .logout-form {
    max-width: 30rem;
    margin-right: auto;
    margin-left: auto;
  }

  .skin-light .logout-form {
    display: none;
  }

  .skin-light .register-form .form-check {
    padding-left: 0;
  }

  .skin-light .md-form.md-outline .form-control.is-valid, 
  .skin-light .md-form.md-outline .form-control.is-invalid {
    background-position: right calc(.375em + .1875rem) center !important;
  }
</style>

<!--Section: Intro-->
<section id="introduction">

  <!--Title-->
  <h2 class="primary-heading mt-3">Register Auth</h2>

  <!-- Subtitle -->
  <h1 class="secondary-heading mb-4">Admin Register Auth</h1>

  <!--Description-->
  <p>Registration simulation with custom form validation and user data storing.</p>

</section>
<!--/Section: Intro-->

<hr class="my-5">

<!--Section: Basic example-->
<section id="basic-example">

  <!--Title-->
  <h2 class="section-heading mb-4">
    Basic example
  </h2>

  <!--Section: Live preview-->
  <section>
    <div class="container">

      <!--Grid row-->
      <div class="row">

        <!--Grid column-->
        <div class="col-md-6">

          <!--Section: Register Form-->
          <section class="mt-4 mb-5 register-form">

            <form class="needs-validation" novalidate autocomplete="off">

              <div class="form-row">
                <div class="col">
                  <div class="md-form md-outline mt-0">
                    <input type="text" name="register-first-name" id="register-first-name" class="form-control">
                    <label for="register-first-name">First name</label>
                    <div class="invalid-feedback">
                      First name should contain from 4 to 50 characters
                    </div>       
                  </div>
                </div>
                <div class="col">
                  <div class="md-form md-outline mt-0">
                    <input type="text" name="register-last-name" id="register-last-name" class="form-control">
                    <label for="register-last-name">Last name</label>
                    <div class="invalid-feedback">
                      Last name should contain from 4 to 50 characters
                    </div>        
                  </div>
                </div>
              </div>

              <div class="md-form md-outline mt-0">
                <input type="email" name="register-email" id="register-email" class="form-control">
                <label data-error="wrong" data-success="right" for="register-email">Your email</label>
              </div>
              <div class="md-form md-outline mt-0 mb-2">
                <input type="password" name="register-password" id="register-password" class="form-control">
                <label data-error="wrong" data-success="right" for="register-password">Your password</label>
                <small id="materialRegisterFormPasswordHelpBlock" class="form-text text-muted">
                  At least 6 characters
                </small>
              </div>
              <div class="md-form md-outline mt-0">
                <input type="password" name="register-password-confirm" id="register-password-confirm" class="form-control">
                <label data-error="wrong" data-success="right" for="register-password-confirm">Confirm password</label>
                <div class="invalid-feedback">
                  Password confirmation is invalid
                </div>
              </div>

              <div class="md-form md-outline">
                <input type="number" name="register-phone" id="register-phone" class="form-control"
                  aria-describedby="register-phoneHelpBlock">
                <label for="register-phone">Phone number</label>
                <small id="register-phoneHelpBlock" class="form-text text-muted mb-3">
                  Optional - for two step authentication
                </small>
              </div>

              <div class="text-center pb-2">

                <div class="form-check pl-0 mb-3">
                  <input type="checkbox" class="form-check-input filled-in" id="new1">
                  <label class="form-check-label small text-uppercase card-link-secondary" for="new1">Subscribe to our
                    newsletter</label>
                </div>

              </div>

              <div class="text-center mb-2">

                <button type="submit" class="btn btn-primary mb-4">Sign Up</button>

                <p>or sign up with:</p>

                <a type="button" class="btn-floating btn-fb btn-sm mr-1">
                  <i class="fab fa-facebook-f"></i>
                </a>
                <a type="button" class="btn-floating btn-tw btn-sm mr-1">
                  <i class="fab fa-twitter"></i>
                </a>
                <a type="button" class="btn-floating btn-li btn-sm mr-1">
                  <i class="fab fa-linkedin-in"></i>
                </a>
                <a type="button" class="btn-floating btn-git btn-sm">
                  <i class="fab fa-github"></i>
                </a>

                <hr class="mt-4">

                <p>By clicking
                  <em>Sign up</em> you agree to our
                  <a href="#" data-toggle="modal" data-target="#terms-modal">terms of service</a>
                </p>

              </form>

            </div>

          </section>
          <!--Section: Register Form-->

          <!--Section: Logout Form-->
          <section class="logout-form py-5 text-center">
            <p class="logged-user-message pb-2"></p>
            <a href="https://mdbootstrap.com/docs/jquery/admin/auth/login/" class="btn btn-primary waves-effect">Log in</a>
            <button class="btn btn-danger waves-effect delete-user">Remove user account</button>
          </section>
          <!--Section: Logout Form-->

        </div>
        <!--Grid column-->

      </div>
      <!--Grid row-->
    
    </div>

    <!-- Modal -->
    <div class="modal fade" id="terms-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Terms & Conditions</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            Your data will be saved in localStorage and kept only for the purposes of demonstration pages.
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
    <!-- Modal -->
  </section>
  <!--Section: Live preview-->

  <!--Section: Code-->
  <section>
    <mdbsnippet>

      <code data-lang="html" data-name="HTML">

        <!--Section: Register Form-->
        <section class="mt-4 mb-5 register-form">

          <form class="needs-validation" novalidate autocomplete="off">

            <div class="form-row">
              <div class="col">
                <div class="md-form md-outline mt-0">
                  <input type="text" name="register-first-name" id="register-first-name" class="form-control">
                  <label for="register-first-name">First name</label>
                  <div class="invalid-feedback">
                    First name should contain from 4 to 50 characters
                  </div>       
                </div>
              </div>
              <div class="col">
                <div class="md-form md-outline mt-0">
                  <input type="text" name="register-last-name" id="register-last-name" class="form-control">
                  <label for="register-last-name">Last name</label>
                  <div class="invalid-feedback">
                    Last name should contain from 4 to 50 characters
                  </div>        
                </div>
              </div>
            </div>

            <div class="md-form md-outline mt-0">
              <input type="email" name="register-email" id="register-email" class="form-control">
              <label data-error="wrong" data-success="right" for="register-email">Your email</label>
            </div>
            <div class="md-form md-outline mt-0 mb-2">
              <input type="password" name="register-password" id="register-password" class="form-control">
              <label data-error="wrong" data-success="right" for="register-password">Your password</label>
              <small id="materialRegisterFormPasswordHelpBlock" class="form-text text-muted">
                At least 6 characters
              </small>
            </div>
            <div class="md-form md-outline mt-0">
              <input type="password" name="register-password-confirm" id="register-password-confirm" class="form-control">
              <label data-error="wrong" data-success="right" for="register-password-confirm">Confirm password</label>
              <div class="invalid-feedback">
                Password confirmation is invalid
              </div>
            </div>

            <div class="md-form md-outline">
              <input type="number" name="register-phone" id="register-phone" class="form-control"
                aria-describedby="register-phoneHelpBlock">
              <label for="register-phone">Phone number</label>
              <small id="register-phoneHelpBlock" class="form-text text-muted mb-3">
                Optional - for two step authentication
              </small>
            </div>

            <div class="text-center pb-2">

              <div class="form-check pl-0 mb-3">
                <input type="checkbox" class="form-check-input filled-in" id="new1">
                <label class="form-check-label small text-uppercase card-link-secondary" for="new1">Subscribe to our
                  newsletter</label>
              </div>

            </div>

            <div class="text-center mb-2">

              <button type="submit" class="btn btn-primary mb-4">Sign Up</button>

              <p>or sign up with:</p>

              <a type="button" class="btn-floating btn-fb btn-sm mr-1">
                <i class="fab fa-facebook-f"></i>
              </a>
              <a type="button" class="btn-floating btn-tw btn-sm mr-1">
                <i class="fab fa-twitter"></i>
              </a>
              <a type="button" class="btn-floating btn-li btn-sm mr-1">
                <i class="fab fa-linkedin-in"></i>
              </a>
              <a type="button" class="btn-floating btn-git btn-sm">
                <i class="fab fa-github"></i>
              </a>

              <hr class="mt-4">

              <p>By clicking
                <em>Sign up</em> you agree to our
                <a href="#" data-toggle="modal" data-target="#terms-modal">terms of service</a>
              </p>

            </form>

          </div>

        </section>
        <!--Section: Register Form-->

        <!--Section: Logout Form-->
        <section class="logout-form py-5">
          <p class="logged-user-message pb-2"></p>
          <a href="https://mdbootstrap.com/docs/jquery/admin/auth/login" class="btn btn-primary waves-effect">Log in</a>
          <button class="btn btn-danger waves-effect delete-user">Remove user account</button>
        </section>
        <!--Section: Logout Form-->

        <!-- Modal -->
        <div class="modal fade" id="terms-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Terms & Conditions</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                Your data will be saved in localStorage and kept only for the purposes of demonstration pages.
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
              </div>
            </div>
          </div>
        </div>
        <!-- Modal -->

      </code>

      <code data-lang="javascript" data-name="JS">

        $(document).ready(function() {
          function validateFirstName() {
            const $input = $('#register-first-name')
            if ($input[0].value.length >= 4 && $input[0].value.length <= 50) {
              $input.removeClass('is-invalid').addClass('is-valid');
              return true;
            }
            $input.removeClass('is-valid').addClass('is-invalid');
            return false;
          }
    
          function validateLastName() {
            const $input = $('#register-last-name')
            if ($input[0].value.length >= 4 && $input[0].value.length <= 50) {
              $input.removeClass('is-invalid').addClass('is-valid');
              return true;
            }
            $input.removeClass('is-valid').addClass('is-invalid');
            return false;
          }
    
          function validateEmail() {
            const $input = $('#register-email')
            if ($input[0].value.length >= 3 && $input[0].value.includes('@')) {
              $input.removeClass('is-invalid').addClass('is-valid');
              return true;
            }
            $input.removeClass('is-valid').addClass('is-invalid');
            return false;
          }
    
          function validatePassword() {
            const $input = $('#register-password')
            if ($input[0].value.length >= 6) {
              $input.removeClass('is-invalid').addClass('is-valid');
              return true;
            }
            $input.removeClass('is-valid').addClass('is-invalid');
            return false;
          }
    
          function validatePasswordConfirm() {
            const $input = $('#register-password');
            const $inputConfirm = $('#register-password-confirm');
            if ($inputConfirm[0].value === $input[0].value && $inputConfirm[0].value.length >= 6) {
              $inputConfirm.removeClass('is-invalid').addClass('is-valid');
              return true;
            }
            $inputConfirm.removeClass('is-valid').addClass('is-invalid');
            return false;
          }
    
          function validateForms() {
            validateFirstName();
            validateLastName();
            validateEmail();
            validatePassword();
            validatePasswordConfirm();
          }
    
          $('#register-first-name').on('input', function() {
            validateFirstName();
          })
    
          $('#register-last-name').on('input', function() {
            validateLastName();
          })
    
          $('#register-email').on('input', function() {
            validateEmail();
          })
    
          $('#register-password').on('input', function() {
            validatePassword();
            $('#register-password-confirm')[0].value = '';
          })
    
          $('#register-password-confirm').on('input', function() {
            validatePasswordConfirm();
          })
    
          $('.register-form form').on('submit', function(event) {
            event.preventDefault();
            validateForms();
    
            if (validateFirstName() === true && validateLastName() === true && validateEmail() === true && validatePassword() === true && validatePasswordConfirm() === true) {
              const userData = $(this).serializeArray();
    
              localStorage.setItem("mdbAdminUserFirstName", userData[0].value);
              localStorage.setItem("mdbAdminUserLastName", userData[1].value);
              localStorage.setItem("mdbAdminUserEmail", userData[2].value);
              localStorage.setItem("mdbAdminUserPass", userData[3].value);
              location.reload();
            }
          })
    
          $('.delete-user').on('click', () => {
            localStorage.clear();
            location.reload();
          })
    
          if (localStorage.mdbAdminUserEmail) {
            $('.register-form').hide();
            $('.logout-form').show();
            $('.logged-user-message').html(`You have been registered as <strong>${localStorage.mdbAdminUserFirstName} ${localStorage.mdbAdminUserLastName}</strong>!`);
          }
    
        })

      </code>

      <code data-lang="css" data-name="CSS">
        .skin-light .register-form, 
        .skin-light .logout-form {
          max-width: 30rem;
          margin-right: auto;
          margin-left: auto;
        }
      
        .skin-light .logout-form {
          display: none;
        }
      
        .skin-light .register-form .form-check {
          padding-left: 0;
        }
      
        .skin-light .md-form.md-outline .form-control.is-valid, 
        .skin-light .md-form.md-outline .form-control.is-invalid {
          background-position: right calc(.375em + .1875rem) center !important;
        }
      </code>
    </mdbsnippet>
  </section>
  <!--Section: Code-->

</section>
<!--/Section: Basic example-->

<hr class="my-5">

<!-- Section: Form validation-->
<section id="form-validation">

  <!--Title-->
  <h2 class="section-heading mb-4">
    1. Form validation
  </h2>

  <p>New user registration should start with form validation. In the following example, we present selected validation elements that contain:</p>

  <ul>
    <li>Validate function</li>
    <li>Function trigger</li>
  </ul>

  <p class="note note-info">The validation function can have any number of conditions. They depend on the requirements of the project.</p>

  <!--Section: Code-->
  <section>
    <mdbsnippet>
      <code data-lang="javascript" data-name="JS">

        $(document).ready(function() {
          // Validate function 
          function validateFirstName() {
            // Get an input
            const $input = $('#register-first-name')

            // Validate input value
            if ($input[0].value.length >= 4 && $input[0].value.length <= 50) {
              $input.removeClass('is-invalid').addClass('is-valid');
              return true;
            }
            $input.removeClass('is-valid').addClass('is-invalid');
            return false;
          }

          // Function trigger on each input event 
          $('#register-first-name').on('input', function() {
            validateFirstName();
          })
        });

      </code>
    </mdbsnippet>

  </section>
  <!--Section: Code-->

</section>
<!--Section: Form validation -->

<hr class="my-5">

<!-- Section: -->
<section id="form-submitting">

  <!--Title-->
  <h2 class="section-heading mb-4">
    2. Form submitting
  </h2>

  <p>After submitting the form, we perform full verification again. If the fields are correctly completed, we send the data to localStorage. LocalStorage will serve us as a database simulation.</p>

  <p class="note note-danger">Please note that localStorage is only a replacement for a real database. In the production application, the data sent via the form should be verified on the Server Side and, if validated, added to the database. Validation should therefore be carried out both on the Client Side (optional) and on the Server Side (required). It is very important when handling any forms.</p>

  <!--Section: Code-->
  <section>
    <mdbsnippet>
      <code data-lang="javascript" data-name="JS">

        $(document).ready(function() {
          // All forms validation function
          function validateForms() {
            validateFirstName();
            validateLastName();
            validateEmail();
            validatePassword();
            validatePasswordConfirm();
          }

          // Form submit
          $('.register-form form').on('submit', function(event) {
            // Prevent default behavior
            event.preventDefault();

            // Validate all forms
            validateForms();
        
            // Validation passed
            if (validateFirstName() === true && validateLastName() === true && validateEmail() === true && validatePassword() === true && validatePasswordConfirm() === true) {
              // Getting user data from form
              const userData = $(this).serializeArray();
        
              // Storing user data in localStorage
              localStorage.setItem("mdbAdminUserFirstName", userData[0].value);
              localStorage.setItem("mdbAdminUserLastName", userData[1].value);
              localStorage.setItem("mdbAdminUserEmail", userData[2].value);
              localStorage.setItem("mdbAdminUserPass", userData[3].value);

              // Reloading page
              location.reload();
            }
          })
        });

      </code>
    </mdbsnippet>

  </section>
  <!--Section: Code-->

</section>
<!--Section: Form validation -->

<hr class="my-5">

<!-- Section: Checking user data -->
<section id="checking-user-data">

  <!--Title-->
  <h2 class="section-heading mb-4">
    3. Checking user data
  </h2>

  <p>Each time the website is loaded, the system checks whether the user has already created an account. If so, it hides the registration form and displays user's data with the button to delete the account.</p>

  <!--Section: Code-->
  <section>
    <mdbsnippet>
      <code data-lang="javascript" data-name="JS">

        $(document).ready(function() {
          // checking if item mdbAdminUserEmail exists in localStorage
          if (localStorage.mdbAdminUserEmail) {
            // Hiding register form if user account was created
            $('.register-form').hide();

            // Showing logout form if user account was created
            $('.logout-form').show();

            // Filling message with user data
            $('.logged-user-message').html(`You have been registered as <strong>${localStorage.mdbAdminUserFirstName} ${localStorage.mdbAdminUserLastName}</strong>!`);
          }
        });

      </code>
    </mdbsnippet>
  </section>
  <!--Section: Code-->

</section>
<!--Section: Checking user data -->

<hr class="my-5">

<!-- Section: User account remove -->
<section id="deleting-user-account">

  <!--Title-->
  <h2 class="section-heading mb-4">
    4. Deleting user account
  </h2>

  <p>When the system detects a registered account, it will be possible to delete it. After clicking the <strong>Remove user account</strong> button, the account will be deleted and the page will be reloaded.</p>

  <!--Section: Code-->
  <section>
    <mdbsnippet>
      <code data-lang="javascript" data-name="JS">

        $(document).ready(function() {
          // Deleting user account
          $('.delete-user').on('click', () => {
            // Clearing local storage
            localStorage.clear();

            // Reloading page
            location.reload();
          })
        });

      </code>
    </mdbsnippet>
  </section>
  <!--Section: Code-->

</section>
<!--Section: User account remove -->

<hr class="my-5">

<!-- Section: Modal -->
<section id="modal">

  <!--Title-->
  <h2 class="section-heading mb-4">
    5. Terms of service modal
  </h2>

  <p>To display <strong>terms of service</strong> we used a basic modal with a standard toggler.</p>

  <!--Section: Code-->
  <section>
    <mdbsnippet>
      <code data-lang="html" data-name="HTML">

        <!-- Terms of service modal trigger -->
        <p>By clicking
          <em>Sign up</em> you agree to our
          <a href="#" data-toggle="modal" data-target="#terms-modal">terms of service</a>
        </p>

        (...)

        <!-- Terms of service modal -->
        <div class="modal fade" id="terms-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Terms & Conditions</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                Your data will be saved in localStorage and kept only for the purposes of demonstration pages.
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
              </div>
            </div>
          </div>
        </div>
        <!-- Terms of service modal -->

      </code>
    </mdbsnippet>
  </section>
  <!--Section: Code-->

</section>
<!--Section: Modal  -->